using System;
using System.Text;
using System.Text.RegularExpressions;
using System.Collections.Generic;

namespace mimeParser.MIME.Models
{
    public class MIME_RFC_2045_2183
    {

        private const String explainer = "\\s*:\\s*";
        private const String separator = "\\/";
        private const String sub = ";{0,1}\\s*";
        private const String assign = "\\s*=\\s*";
        private const String lazy = "?\\n";
        // Регулярные выражения
        public const String Mime_version_1_0 = "((M|m)(I|i)(M|m)(E|e))-(V|v)ersion(( )*):(( )+)[0-9.]+";
        #region Content
        private const String Content_type = "(C|c)ontent-(T|t)ype";
        private const String     type = "([a-zA-Z.\\-0-9]+)?(?=\\/)";
        private const String     subtype = "(?<=\\/)([a-zA-Z.-0-9]+)?";
        private const String         attribute = "[a-z_]+";
        private const String         value = "[\\s\\w\\W]+";
        private const String     parameter = attribute + assign + value;
        #endregion
        public const String content = Content_type +
                                         explainer +
                                              type + 
                                         separator + 
                                           subtype + 
                                               sub + 
                                         parameter +
                                              lazy;
        #region Encoding
        private const String Content_transfer_encoding = "(C|c)ontent-(T|t)ransfer-(E|e)ncoding";
        private const String     mechanism = "[0-9a-zA-Z-]+";
        #endregion
        public const String encoding = Content_transfer_encoding + 
                                                       explainer +
                                                       mechanism +
                                                            lazy;
        #region Description
        private const String Content_description = "(C|c)ontent-(D|d)escription";
        private const String text = "[\\s\\w\\W]+";
        #endregion
        public const String description = Content_description + 
                                                    explainer +
                                                         text +
                                                         lazy;
        #region Disposition 
        private const String Content_disposition = "(C|c)ontent-(D|d)isposition";
        private const String disposition_type = "(inline|attachment)";
        private const String disposition_parm = attribute + assign +value;
        #endregion
        public const String disposition = Content_disposition +
                                                    explainer +
                                             disposition_type +
                                                          sub +
                                             disposition_parm +
                                                         lazy;

        public const String allFields = content +
                      "(" + encoding + "){0,1}" +
                   "(" + disposition + "){0,1}" +
                   "(" + description + "){0,1}";

    }
}
